<!DOCTYPE html>
<html>

<head>
    <title>{{ title }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>

</head>

<body>
    <div>
        <div class="flex items-center justify-between w-full p-4 border-b">
            <div class="flex flex-col">
                <h1 class="text-3xl font-bold text-gray-500">정글 주접톤</h1>
                <p class="text-sm text-gray-400">crafton jungle</p>
            </div>
            <div class="flex items-center space-x-4">
                <img src="{{ user.picture }}" alt="{{ user.name }}'s profile picture" class="w-12 h-12 rounded-full">
                <a>{{ user.name }}의 주접</a>
                <a href="/logout">로그아웃</a>
            </div>
        </div>
    </div>

    <div class="container grid grid-cols-2 divide-x-2">
        <div class="container profile p-10 grid grid-cols-4 gap-4">
            <!-- 프로필 예시 -->
            {% for coach in coaches %}
            <div class="profile flex flex-col items-center">
                <img src="{{ url_for('static', filename=coach.path) }}" alt="image" class="mb-4" style="width: 100px; height: 125px; object-fit: cover;">
                <button class="bg-white border border-blue-300 text-blue-400 hover:bg-blue-50 p-2 block mx-auto"
                    id="btn-{{coach.name}}" onclick="location.href='joojeop/{{ coach.name }}/newest'"> {{ coach.name }} 주접떨기</button>
            </div>
            {% endfor %}


        </div>
        <div class="container p-5">
            <button
                class="m-1 px-2 py-1 text-xs border rounded-full bg-gray-100 hover:bg-sky-100 focus:bg-sky-500 focus:text-white">모든주접</button>
            <button
                class="m-1 px-2 py-1 text-xs border rounded-full bg-gray-100 hover:bg-sky-100 focus:bg-sky-500 focus:text-white">내주접</button>
            <!-- 드롭다운 컨테이너 -->
            <div id="dropdownContainer" class="relative inline-block">
                <!-- 드롭다운 버튼 -->
                <button id="dropdownButton"
                    class="px-2 py-1 text-xs border rounded-full bg-gray-100 hover:bg-sky-100 flex items-center">
                    정렬
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>

                <!-- 드롭다운 메뉴 (초기에는 hidden 클래스 적용) -->
                <div id="dropdownMenu"
                    class="absolute mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg hidden">
                    <!-- 메뉴 항목들 -->
                    <a href="?order=newest" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">최신순</a>
                    <a href="?order=like" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">좋아요순</a>
                    <a href="?order=oldest" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">오래된순</a>
                </div>
            </div>


            <!-- 주접문 블록 예시 -->
            {% for joojeop in joojeops %}
            <div class="joojeop-block border m-5 p-5">
                <p class="joojeop-content">{{ joojeop.content}}</p>
                <div class="flex items-center space-x-3 text-gray-500 mt-2">
                    <span class="joojeop-creater">by. {{ joojeop.author_name}}</span>
                    <span class="joojeop-date">{{ date }}</span>
                    <span class="joojeop-likes flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-red-500" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        <span>{{ joojeop.like }} likes</span>
                </div>
            </div>
            {% endfor %}
        </div>
</body>

</html>